<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Documentation ¬∑ KomaMRI.jl: General MRI simulation framework</title><meta name="title" content="API Documentation ¬∑ KomaMRI.jl: General MRI simulation framework"/><meta property="og:title" content="API Documentation ¬∑ KomaMRI.jl: General MRI simulation framework"/><meta property="twitter:title" content="API Documentation ¬∑ KomaMRI.jl: General MRI simulation framework"/><meta name="description" content="Documentation for KomaMRI.jl: General MRI simulation framework."/><meta property="og:description" content="Documentation for KomaMRI.jl: General MRI simulation framework."/><meta property="twitter:description" content="Documentation for KomaMRI.jl: General MRI simulation framework."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/extra-styles.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="KomaMRI.jl: General MRI simulation framework logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="KomaMRI.jl: General MRI simulation framework logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li><span class="tocitem">Ways of Using KomaMRI</span><ul><li><a class="tocitem" href="../ui-details/">User Interface</a></li><li><a class="tocitem" href="../programming-workflow/">Julia Scripts</a></li><li><a class="tocitem" href="../notebooks/">Notebooks</a></li></ul></li><li><a class="tocitem" href="../create-your-own-phantom/">Create Your Own Phantom</a></li><li><span class="tocitem">Create Your Own Sequence</span><ul><li><a class="tocitem" href="../sequence/">Sequence</a></li><li><a class="tocitem" href="../events/">Sequence Events</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../generated/examples/01-FID/">Free Induction Decay</a></li><li><a class="tocitem" href="../generated/examples/02-SmallTipApproximation/">Small Tip Angle Approximation</a></li><li><a class="tocitem" href="../generated/examples/03-ChemicalShiftEPI/">Chemical Shift in an EPI sequence</a></li><li><a class="tocitem" href="../generated/examples/04-3DSliceSelective/">Slice Selective Acquisition of 3D Phantom</a></li></ul></li><li><a class="tocitem" href="../educational-1d-simulation/">Educational Material üìö</a></li><li><a class="tocitem" href="../mri-theory/">Simulation</a></li><li class="is-active"><a class="tocitem" href>API Documentation</a><ul class="internal"><li><a class="tocitem" href="#How-to-read-the-API-docs"><span>How to read the API docs</span></a></li><li><a class="tocitem" href="#Structs"><span>Structs</span></a></li><li><a class="tocitem" href="#Sequence-related-Functions"><span>Sequence-related Functions</span></a></li><li><a class="tocitem" href="#Sampling-related-Functions"><span>Sampling-related Functions</span></a></li><li><a class="tocitem" href="#Sampling-Miscellaneous"><span>Sampling Miscellaneous</span></a></li><li><a class="tocitem" href="#Prebuilt-Sequence-Building-Blocks"><span>Prebuilt Sequence Building Blocks</span></a></li><li><a class="tocitem" href="#Input/Output"><span>Input/Output</span></a></li><li><a class="tocitem" href="#Functor-Functions"><span>Functor Functions</span></a></li><li><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li><li><a class="tocitem" href="#Simulation-Miscellaneous"><span>Simulation Miscellaneous</span></a></li><li><a class="tocitem" href="#Plots"><span>Plots</span></a></li><li><a class="tocitem" href="#UI"><span>UI</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaHealth/KomaMRI.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/master/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Documentation"><a class="docs-heading-anchor" href="#API-Documentation">API Documentation</a><a id="API-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#API-Documentation" title="Permalink"></a></h1><p>This page provides documentation for the modules, structs, functions, methods, and additional components available when importing the <strong>KomaMRI</strong> package. It serves as a valuable reference when using the <strong>Julia REPL</strong> directly and when creating custom <strong>Julia</strong> scripts. Be sure not to overlook the section <a href="#How-to-read-the-API-docs">How to read the API docs</a>, which contains important information for understanding the general structure of docstrings. The following is the table of contents for the API Documentation:</p><p align="center"><img width="100%" src="../assets/koma-schema-subdirs.svg"/></p><ul><li><a href="#API-Documentation">API Documentation</a></li><li class="no-marker"><ul><li><a href="#How-to-read-the-API-docs">How to read the API docs</a></li><li><a href="#Structs">Structs</a></li><li class="no-marker"><ul><li><a href="#Scanner"><code>Scanner</code></a></li><li><a href="#Phantom"><code>Phantom</code></a></li><li><a href="#Sequence"><code>Sequence</code></a></li><li><a href="#Grad"><code>Grad</code></a></li><li><a href="#RF"><code>RF</code></a></li><li><a href="#ADC"><code>ADC</code></a></li><li><a href="#Delay"><code>Delay</code></a></li></ul></li><li><a href="#Sequence-related-Functions">Sequence-related Functions</a></li><li class="no-marker"><ul><li><a href="#dur"><code>dur</code></a></li><li><a href="#rotx"><code>rotx</code></a></li><li><a href="#roty"><code>roty</code></a></li><li><a href="#rotz"><code>rotz</code></a></li><li><a href="#get_Mk"><code>get_Mk</code></a></li><li><a href="#get_kspace"><code>get_kspace</code></a></li><li><a href="#get_M0"><code>get_M0</code></a></li><li><a href="#get_M1"><code>get_M1</code></a></li><li><a href="#get_M2"><code>get_M2</code></a></li><li><a href="#get_flip_angles"><code>get_flip_angles</code></a></li><li><a href="#is_RF_on"><code>is_RF_on</code></a></li><li><a href="#is_GR_on"><code>is_GR_on</code></a></li><li><a href="#is_Gx_on"><code>is_Gx_on</code></a></li><li><a href="#is_Gy_on"><code>is_Gy_on</code></a></li><li><a href="#is_Gz_on"><code>is_Gz_on</code></a></li><li><a href="#is_ADC_on"><code>is_ADC_on</code></a></li></ul></li><li><a href="#Sampling-related-Functions">Sampling-related Functions</a></li><li class="no-marker"><ul><li><a href="#get_samples"><code>get_samples</code></a></li><li><a href="#get_adc_sampling_times"><code>get_adc_sampling_times</code></a></li><li><a href="#get_adc_phase_compensation"><code>get_adc_phase_compensation</code></a></li><li><a href="#get_block_start_times"><code>get_block_start_times</code></a></li><li><a href="#DiscreteSequence"><code>DiscreteSequence</code></a></li><li><a href="#discretize"><code>discretize</code></a></li></ul></li><li><a href="#Sampling-Miscellaneous">Sampling Miscellaneous</a></li><li class="no-marker"><ul><li><a href="#trapz"><code>trapz</code></a></li><li><a href="#cumtrapz"><code>cumtrapz</code></a></li><li><a href="#kfoldperm"><code>kfoldperm</code></a></li><li><a href="#ampl"><code>ampl</code></a></li><li><a href="#time"><code>time</code></a></li></ul></li><li><a href="#Prebuilt-Sequence-Building-Blocks">Prebuilt Sequence Building Blocks</a></li><li class="no-marker"><ul><li><a href="#PulseDesigner"><code>PulseDesigner</code></a></li><li><a href="#PulseDesigner.RF_hard"><code>PulseDesigner.RF_hard</code></a></li><li><a href="#PulseDesigner.RF_sinc"><code>PulseDesigner.RF_sinc</code></a></li><li><a href="#PulseDesigner.EPI"><code>PulseDesigner.EPI</code></a></li><li><a href="#PulseDesigner.radial_base"><code>PulseDesigner.radial_base</code></a></li><li><a href="#PulseDesigner.spiral_base"><code>PulseDesigner.spiral_base</code></a></li><li><a href="#PulseDesigner.EPI_example"><code>PulseDesigner.EPI_example</code></a></li></ul></li><li><a href="#Input/Output">Input/Output</a></li><li class="no-marker"><ul><li><a href="#read_seq"><code>read_seq</code></a></li><li><a href="#write_seq"><code>write_seq</code></a></li><li><a href="#read_phantom_jemris"><code>read_phantom_jemris</code></a></li><li><a href="#read_phantom_MRiLab"><code>read_phantom_MRiLab</code></a></li></ul></li><li><a href="#Functor-Functions">Functor Functions</a></li><li class="no-marker"><ul><li><a href="#f32"><code>f32</code></a></li><li><a href="#f64"><code>f64</code></a></li><li><a href="#cpu"><code>cpu</code></a></li><li><a href="#gpu"><code>gpu</code></a></li></ul></li><li><a href="#Simulation">Simulation</a></li><li class="no-marker"><ul><li><a href="#default_sim_params"><code>default_sim_params</code></a></li><li><a href="#simulate"><code>simulate</code></a></li><li><a href="#simulate_slice_profile"><code>simulate_slice_profile</code></a></li><li><a href="#signal_to_raw_data"><code>signal_to_raw_data</code></a></li><li><a href="#Mag"><code>Mag</code></a></li></ul></li><li><a href="#Simulation-Miscellaneous">Simulation Miscellaneous</a></li><li class="no-marker"><ul><li><a href="#Spinor"><code>Spinor</code></a></li><li><a href="#Q"><code>Q</code></a></li><li><a href="#Un"><code>Un</code></a></li><li><a href="#Rx"><code>Rx</code></a></li><li><a href="#Ry"><code>Ry</code></a></li><li><a href="#Rz"><code>Rz</code></a></li></ul></li><li><a href="#Plots">Plots</a></li><li class="no-marker"><ul><li><a href="#plot_phantom_map"><code>plot_phantom_map</code></a></li><li><a href="#plot_seq"><code>plot_seq</code></a></li><li><a href="#plot_kspace"><code>plot_kspace</code></a></li><li><a href="#plot_M0"><code>plot_M0</code></a></li><li><a href="#plot_M1"><code>plot_M1</code></a></li><li><a href="#plot_M2"><code>plot_M2</code></a></li><li><a href="#plot_eddy_currents"><code>plot_eddy_currents</code></a></li><li><a href="#plot_slew_rate"><code>plot_slew_rate</code></a></li><li><a href="#plot_signal"><code>plot_signal</code></a></li><li><a href="#plot_image"><code>plot_image</code></a></li><li><a href="#plot_dict"><code>plot_dict</code></a></li><li><a href="#plot_seqd"><code>plot_seqd</code></a></li></ul></li><li><a href="#UI">UI</a></li><li class="no-marker"><ul><li><a href="#KomaUI"><code>KomaUI</code></a></li></ul></li></ul></li></ul><h2 id="How-to-read-the-API-docs"><a class="docs-heading-anchor" href="#How-to-read-the-API-docs">How to read the API docs</a><a id="How-to-read-the-API-docs-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-read-the-API-docs" title="Permalink"></a></h2><p>The API documentation includes predefined &quot;template patterns&quot; to assist users in understanding how to use modules, structs, functions, methods, and all the necessary aspects to make the most of what <strong>KomaMRI</strong> has to offer.</p><p>These documentation &quot;template patterns&quot; are based on the J<a href="https://github.com/invenia/BlueStyle">Julia Blue Style</a>  documentation and other <strong>GitHub</strong> repositories that deal with MRI topics. However, some custom considerations were added to enhance understanding and provide a broader perspective.</p><p>When you encounter a docstring documentation, it will have the following structure:</p><div class="admonition is-category-docstring"><header class="admonition-header">KomaMRI.component_name ‚Äî Component</header><div class="admonition-body"><pre><code class="nohighlight hljs">out1, out2, ... = component_name(arg1, arg2, ...; kw1, kw2, ...)</code></pre><p>This is a brief description of what <strong>component_name</strong> does.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Here can be placed a note if it is regarded necessary.</p></div></div><p><strong>Arguments</strong></p><ul><li><code>arg1</code>: (<code>::type</code>, <code>=value</code>, <code>[unit]</code>, opts: [<code>opt1</code>, <code>opt2</code>, ...]) the description for the arg1</li><li>...</li></ul><p><strong>Keywords</strong></p><ul><li><code>kw1</code>: (<code>::type</code>, <code>=value</code>, <code>[unit]</code>, opts: [<code>opt1</code>, <code>opt2</code>, ...]) the description for the kw1</li><li>...</li></ul><p><strong>Returns</strong></p><ul><li><code>out1</code>: (<code>::type</code>, <code>=value</code>, <code>[unit]</code>, opts: [<code>opt1</code>, <code>opt2</code>, ...]) the description for the out1</li><li>...</li></ul><p><strong>References</strong></p><ul><li>Sometimes it is a good idea to put some references or links</li><li>...</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; arg1, arg2, valkw1, valkw2 = 3.5, &quot;hello&quot;, 1, true

julia&gt; out1, out2 = component_name(arg1, arg2; kw1=valkw1, kw2=valkw2)</code></pre></div></div><p>The preceding docstring block will always start with the way the component is called (outputs = component_name(inputs), followed by a brief description of what the component does. If necessary, a <strong>note</strong> block will be displayed. In general, the following subsections are optional: <strong>Arguments</strong>, <strong>Keywords</strong>, <strong>Returns</strong>, <strong>References</strong>, and <strong>Examples</strong>, but they will be provided as needed. These subsections are self-explanatory, making it intuitive to understand their purpose.</p><p>Please note that every subitem in the sections <strong>Arguments</strong>, <strong>Keywords</strong>, and <strong>Returns</strong> represents variables. They include practical information along with a description. The information enclosed in parentheses is optional but highly useful when provided.</p><ul><li><code>::type</code>: is the suggested type for the variable. If the input variable is of type <code>::type</code>, there won&#39;t be any issues, but it&#39;s always possible to test other subtypes. If the variable is an output, it will be forced to the type <code>::type</code> whenever possible.</li><li><code>=value</code>: sometimes, for the inputs, a default value is defined if it is not assigned by the user.</li><li><code>[unit]</code>: this is the suggested physical unit of measure for the variable. Everything will be fine if you stick with these units of measure.</li><li>opts: [<code>opt1</code>, <code>opt2</code>, ...]: sometimes, the input value can only be interpreted if it is one of the predefined values.</li></ul><h2 id="Structs"><a class="docs-heading-anchor" href="#Structs">Structs</a><a id="Structs-1"></a><a class="docs-heading-anchor-permalink" href="#Structs" title="Permalink"></a></h2><h3 id="Scanner"><a class="docs-heading-anchor" href="#Scanner"><code>Scanner</code></a><a id="Scanner-1"></a><a class="docs-heading-anchor-permalink" href="#Scanner" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Scanner" href="#KomaMRIBase.Scanner"><code>KomaMRIBase.Scanner</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">sys = Scanner(B0, B1, Gmax, Smax, ADC_Œît, seq_Œît, GR_Œît, RF_Œît,
    RF_ring_down_T, RF_dead_time_T, ADC_dead_time_T)</code></pre><p>The Scanner struct. It contains hardware limitations of the MRI resonator. It is an input for the simulation.</p><p><strong>Arguments</strong></p><ul><li><code>B0</code>: (<code>::Real</code>, <code>=1.5</code>, <code>[T]</code>) main magnetic field strength</li><li><code>B1</code>: (<code>::Real</code>, <code>=10e-6</code>, <code>[T]</code>) maximum RF amplitude</li><li><code>Gmax</code>: (<code>::Real</code>, <code>=60e-3</code>, <code>[T/m]</code>) maximum gradient amplitude</li><li><code>Smax</code>: (<code>::Real</code>, <code>=500</code>, <code>[mT/m/ms]</code>) gradient&#39;s maximum slew-rate</li><li><code>ADC_Œît</code>: (<code>::Real</code>, <code>=2e-6</code>, <code>[s]</code>) ADC raster time</li><li><code>seq_Œît</code>: (<code>::Real</code>, <code>=1e-5</code>, <code>[s]</code>) sequence-block raster time</li><li><code>GR_Œît</code>: (<code>::Real</code>, <code>=1e-5</code>, <code>[s]</code>) gradient raster time</li><li><code>RF_Œît</code>: (<code>::Real</code>, <code>=1e-6</code>, <code>[s]</code>) RF raster time</li><li><code>RF_ring_down_T</code>: (<code>::Real</code>, <code>=20e-6</code>, <code>[s]</code>) RF ring down time</li><li><code>RF_dead_time_T</code>: (<code>::Real</code>, <code>=100e-6</code>, <code>[s]</code>) RF dead time</li><li><code>ADC_dead_time_T</code>: (<code>::Real</code>, <code>=10e-6</code>, <code>[s]</code>) ADC dead time</li></ul><p><strong>Returns</strong></p><ul><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys = Scanner()

julia&gt; sys.B0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Scanner.jl#L1-L30">source</a></section></article><h3 id="Phantom"><a class="docs-heading-anchor" href="#Phantom"><code>Phantom</code></a><a id="Phantom-1"></a><a class="docs-heading-anchor-permalink" href="#Phantom" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Phantom" href="#KomaMRIBase.Phantom"><code>KomaMRIBase.Phantom</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">obj = Phantom(name, x, y, z, œÅ, T1, T2, T2s, Œîw, DŒª1, DŒª2, DŒ∏, ux, uy, uz)</code></pre><p>The Phantom struct. Most of its field names are vectors, with each element associated with a property value representing a spin. This struct serves as an input for the simulation.</p><p><strong>Arguments</strong></p><ul><li><code>name</code>: (<code>::String</code>) phantom name</li><li><code>x</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[m]</code>) spin x-position vector</li><li><code>y</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[m]</code>) spin y-position vector</li><li><code>z</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[m]</code>) spin z-position vector</li><li><code>œÅ</code>: (<code>::AbstractVector{T&lt;:Real}</code>) spin proton density vector</li><li><code>T1</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[s]</code>) spin T1 parameter vector</li><li><code>T2</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[s]</code>) spin T2 parameter vector</li><li><code>T2s</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[s]</code>) spin T2s parameter vector</li><li><code>Œîw</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[rad/s]</code>) spin off-resonance parameter vector</li><li><code>DŒª1</code>: (<code>::AbstractVector{T&lt;:Real}</code>) spin DŒª1 (diffusion) parameter vector</li><li><code>DŒª2</code>: (<code>::AbstractVector{T&lt;:Real}</code>) spin DŒª2 (diffusion) parameter vector</li><li><code>DŒ∏</code>: (<code>::AbstractVector{T&lt;:Real}</code>) spin DŒ∏ (diffusion) parameter vector</li><li><code>ux</code>: (<code>::Function</code>) displacement field in the x-axis</li><li><code>uy</code>: (<code>::Function</code>) displacement field in the y-axis</li><li><code>uz</code>: (<code>::Function</code>) displacement field in the z-axis</li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj = Phantom(x=[0.0])

julia&gt; obj.œÅ</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Phantom.jl#L1-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.brain_phantom2D" href="#KomaMRIBase.brain_phantom2D"><code>KomaMRIBase.brain_phantom2D</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obj = brain_phantom2D(; axis=&quot;axial&quot;, ss=4, us=1)</code></pre><p>Creates a two-dimensional brain Phantom struct. Default ss=4 sample spacing is 2 mm. Original file (ss=1) sample spacing is .5 mm.</p><p><strong>References</strong></p><ul><li>B. Aubert-Broche, D.L. Collins, A.C. Evans: &quot;A new improved version of the realistic   digital brain phantom&quot; NeuroImage, in review - 2006</li><li>B. Aubert-Broche, M. Griffin, G.B. Pike, A.C. Evans and D.L. Collins: &quot;20 new digital   brain phantoms for creation of validation image data bases&quot; IEEE TMI, in review - 2006</li><li>https://brainweb.bic.mni.mcgill.ca/brainweb</li></ul><p><strong>Keywords</strong></p><ul><li><code>axis</code>: (<code>::String</code>, <code>=&quot;axial&quot;</code>, opts=[<code>&quot;axial&quot;</code>, <code>&quot;coronal&quot;</code>, <code>&quot;sagittal&quot;</code>]) orientation of the phantom</li><li><code>ss</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=4</code>) subsampling parameter for all axes if scaler, per axis if 2 element vector [ssx, ssy]</li><li><code>us</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=1</code>)  upsampling parameter for all axes if scaler, per axis if 2 element vector [usx, usy], if used ss is set to ss=1</li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj = brain_phantom2D(; axis=&quot;sagittal&quot;, ss=1)

julia&gt; obj = brain_phantom2D(; axis=&quot;axial&quot;, us=[1, 2])

julia&gt; plot_phantom_map(obj, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Phantom.jl#L171-L201">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.brain_phantom3D" href="#KomaMRIBase.brain_phantom3D"><code>KomaMRIBase.brain_phantom3D</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obj = brain_phantom3D(; ss=4, us=1)</code></pre><p>Creates a three-dimentional brain Phantom struct. Default ss=4 sample spacing is 2 mm. Original file (ss=1) sample spacing is .5 mm. </p><p><strong>References</strong></p><ul><li>B. Aubert-Broche, D.L. Collins, A.C. Evans: &quot;A new improved version of the realistic   digital brain phantom&quot; NeuroImage, in review - 2006</li><li>B. Aubert-Broche, M. Griffin, G.B. Pike, A.C. Evans and D.L. Collins: &quot;20 new digital   brain phantoms for creation of validation image data bases&quot; IEEE TMI, in review - 2006</li><li>https://brainweb.bic.mni.mcgill.ca/brainweb</li></ul><p><strong>Keywords</strong></p><ul><li><code>ss</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=4</code>) subsampling parameter for all axes if scaler, per axis if 3 element vector [ssx, ssy, ssz]</li><li><code>us</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=1</code>)  upsampling parameter for all axes if scaler, per axis if 3 element vector [usx, usy, usz]</li><li><code>start_end</code>: (<code>::Vector{Integer}</code>, <code>=[160,200]</code>) z index range of presampled phantom, 180 is center</li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) 3D Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj = brain_phantom3D(; ss=5)

julia&gt; obj = brain_phantom3D(; us=[2, 2, 1])

julia&gt; plot_phantom_map(obj, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Phantom.jl#L292-L321">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.pelvis_phantom2D" href="#KomaMRIBase.pelvis_phantom2D"><code>KomaMRIBase.pelvis_phantom2D</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obj = pelvis_phantom2D(; ss=4, us=1)</code></pre><p>Creates a two-dimensional pelvis Phantom struct. Default ss=4 sample spacing is 2 mm. Original file (ss=1) sample spacing is .5 mm.</p><p><strong>Keywords</strong></p><ul><li><code>ss</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=4</code>) subsampling parameter for all axes if scaler, per axis if 2 element vector [ssx, ssy]</li><li><code>us</code>: (<code>::Integer or ::Vector{Integer}</code>, <code>=1</code>)  upsampling parameter for all axes if scaler, per axis if 2 element vector [usx, usy]</li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj = pelvis_phantom2D(; ss=2])

julia&gt; obj = pelvis_phantom2D(; us=[1, 2])

julia&gt; pelvis_phantom2D(obj, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Phantom.jl#L417-L438">source</a></section></article><h3 id="Sequence"><a class="docs-heading-anchor" href="#Sequence"><code>Sequence</code></a><a id="Sequence-1"></a><a class="docs-heading-anchor-permalink" href="#Sequence" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Sequence" href="#KomaMRIBase.Sequence"><code>KomaMRIBase.Sequence</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">seq = Sequence()
seq = Sequence(GR)
seq = Sequence(GR, RF)
seq = Sequence(GR, RF, ADC)
seq = Sequence(GR, RF, ADC, DUR)
seq = Sequence(GR::Array{Grad,1})
seq = Sequence(GR::Array{Grad,1}, RF::Array{RF,1})
seq = Sequence(GR::Array{Grad,1}, RF::Array{RF,1}, A::ADC, DUR, DEF)</code></pre><p>The Sequence struct. It contains events of an MRI sequence. Most field names (except for the DEF field) consist of matrices or vectors, where each column index represents a sequence block. This struct serves as an input for the simulation.</p><p><strong>Arguments</strong></p><ul><li><code>GR</code>: (<code>::Matrix{Grad}</code>) gradient matrix. Rows for x-y-z amplitudes and columns are for blocks</li><li><code>RF</code>: (<code>::Matrix{RF}</code>) RF matrix. The 1 row is for the coil and columns are for blocks</li><li><code>ADC</code>: (<code>::Array{ADC,1}</code>) ADC block vector</li><li><code>DUR</code>: (<code>::Vector</code>, <code>[s]</code>) duration block vector</li><li><code>DEF</code>: (<code>::Dict{String, Any}</code>) dictionary with relevant information of the sequence.   Possible keys could be [<code>&quot;AdcRasterTime&quot;</code>, <code>&quot;GradientRasterTime&quot;</code>, <code>&quot;Name&quot;</code>, <code>&quot;Nz&quot;</code>,   <code>&quot;Num_Blocks&quot;</code>, <code>&quot;Nx&quot;</code>, <code>&quot;Ny&quot;</code>, <code>&quot;PulseqVersion&quot;</code>, <code>&quot;BlockDurationRaster&quot;</code>,   <code>&quot;FileName&quot;</code>, <code>&quot;RadiofrequencyRasterTime&quot;</code>]</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L1-L27">source</a></section></article><h3 id="Grad"><a class="docs-heading-anchor" href="#Grad"><code>Grad</code></a><a id="Grad-1"></a><a class="docs-heading-anchor-permalink" href="#Grad" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Grad" href="#KomaMRIBase.Grad"><code>KomaMRIBase.Grad</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">gr = Grad(A, T)
gr = Grad(A, T, rise)
gr = Grad(A, T, rise, delay)
gr = Grad(A, T, rise, fall, delay)
gr = Grad(A, T, rise, fall, delay, first, last)</code></pre><p>The Grad struct represents a gradient of a sequence event.</p><p><strong>Arguments</strong></p><ul><li><code>A</code>: (<code>::Real</code> or <code>::Vector</code>, <code>[T/m]</code>) amplitude of the gradient</li><li><code>T</code>: (<code>::Real</code> or <code>::Vector</code>, <code>[s]</code>) duration of the flat-top</li><li><code>rise</code>: (<code>::Real</code>, <code>[s]</code>) duration of the rise</li><li><code>fall</code>: (<code>::Real</code>, <code>[s]</code>) duration of the fall</li><li><code>delay</code>: (<code>::Real</code>, <code>[s]</code>) duration of the delay</li></ul><p><strong>Returns</strong></p><ul><li><code>gr</code>: (<code>::Grad</code>) gradient struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; gr = Grad(1, 1, 0.1, 0.1, 0.2)

julia&gt; seq = Sequence([gr]); plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L46-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Grad-Tuple{Function, Real, Int64}" href="#KomaMRIBase.Grad-Tuple{Function, Real, Int64}"><code>KomaMRIBase.Grad</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gr = Grad(f::Function, T::Real, N::Integer; delay::Real)</code></pre><p>Generates an arbitrary gradient waveform defined by the function <code>f</code> in the interval t ‚àà [0,<code>T</code>]. The time separation between two consecutive samples is given by T/(N-1).</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: (<code>::Function</code>) function that describes the gradient waveform</li><li><code>T</code>: (<code>::Real</code>, <code>[s]</code>) duration of the gradient waveform</li><li><code>N</code>: (<code>::Integer</code>, <code>=300</code>) number of samples of the gradient waveform</li></ul><p><strong>Keywords</strong></p><ul><li><code>delay</code>: (<code>::Real</code>, <code>=0</code>, <code>[s]</code>) delay time of the waveform</li></ul><p><strong>Returns</strong></p><ul><li><code>gr</code>: (<code>::Grad</code>) gradient struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; gx = Grad(t -&gt; sin(œÄ*t / 0.8), 0.8)

julia&gt; seq = Sequence([gx]); plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L95-L118">source</a></section></article><h3 id="RF"><a class="docs-heading-anchor" href="#RF"><code>RF</code></a><a id="RF-1"></a><a class="docs-heading-anchor-permalink" href="#RF" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.RF" href="#KomaMRIBase.RF"><code>KomaMRIBase.RF</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">rf = RF(A, T)
rf = RF(A, T, Œîf)
rf = RF(A, T, Œîf, delay)</code></pre><p>The RF struct represents a Radio Frequency excitation of a sequence event.</p><p><strong>Arguments</strong></p><ul><li><code>A</code>: (<code>::Complex</code>, <code>[T]</code>) RF complex amplitud modulation (AM), <span>$B_1(t) = |B_1(t)|   e^{i\phi(t)} = B_{1}(t) + iB_{1,y}(t)$</span></li><li><code>T</code>: (<code>::Real</code>, [<code>s</code>]) RF duration</li><li><code>Œîf</code>: (<code>::Real</code> or <code>::Vector</code>, [<code>Hz</code>]) RF frequency difference with respect to the Larmor frequency.   This can be a number but also a vector to represent frequency modulated signals (FM).</li><li><code>delay</code>: (<code>::Real</code>, [<code>s</code>]) RF delay time</li></ul><p><strong>Returns</strong></p><ul><li><code>rf</code>: (<code>::RF</code>) the RF struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rf = RF(1, 1, 0, 0.2)

julia&gt; seq = Sequence(); seq += rf; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/RF.jl#L1-L25">source</a></section></article><h3 id="ADC"><a class="docs-heading-anchor" href="#ADC"><code>ADC</code></a><a id="ADC-1"></a><a class="docs-heading-anchor-permalink" href="#ADC" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.ADC" href="#KomaMRIBase.ADC"><code>KomaMRIBase.ADC</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">adc = ADC(N, T)
adc = ADC(N, T, delay)
adc = ADC(N, T, delay, Œîf, œï)</code></pre><p>The ADC struct represents the Analog to Digital Converter (ADC) of a sequence event.</p><p><strong>Arguments</strong></p><ul><li><code>N</code>: (<code>::Int64</code>) number of acquired samples</li><li><code>T</code>: (<code>::Float64</code>, [<code>s</code>]) duration to acquire the samples</li><li><code>delay</code>: (<code>::Float64</code>, [<code>s</code>]) delay time to start the acquisition</li><li><code>Œîf</code>: (<code>::Float64</code>, [<code>Hz</code>]) delta frequency. It is meant to compensate RF pulse phases</li><li><code>œï</code>: (<code>::Float64</code>, <code>[rad]</code>) phase. It is meant to compensate RF pulse phases</li></ul><p><strong>Returns</strong></p><ul><li><code>adc</code>: (<code>::ADC</code>) ADC struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; adc = ADC(16, 1, 0.1)

julia&gt; seq = Sequence(); seq += adc; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/ADC.jl#L1-L24">source</a></section></article><h3 id="Delay"><a class="docs-heading-anchor" href="#Delay"><code>Delay</code></a><a id="Delay-1"></a><a class="docs-heading-anchor-permalink" href="#Delay" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.Delay" href="#KomaMRIBase.Delay"><code>KomaMRIBase.Delay</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">delay = Delay(T)</code></pre><p>The Delay struct is meant to add a delay to a sequence by using a sum operator.</p><p><strong>Arguments</strong></p><ul><li><code>T</code>: (<code>::Real</code>, <code>[s]</code>) time delay value</li></ul><p><strong>Returns</strong></p><ul><li><code>delay</code>: (<code>::Delay</code>) delay struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; delay = Delay(0.5)

julia&gt; s = Sequence([Grad(1, 1, 0.1)])

julia&gt; seq = delay + s; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Delay.jl#L1-L20">source</a></section></article><h2 id="Sequence-related-Functions"><a class="docs-heading-anchor" href="#Sequence-related-Functions">Sequence-related Functions</a><a id="Sequence-related-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Sequence-related-Functions" title="Permalink"></a></h2><h3 id="dur"><a class="docs-heading-anchor" href="#dur"><code>dur</code></a><a id="dur-1"></a><a class="docs-heading-anchor-permalink" href="#dur" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.dur" href="#KomaMRIBase.dur"><code>KomaMRIBase.dur</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = dur(x::Grad)
y = dur(x::Vector{Grad})</code></pre><p>Duration time in [s] of Grad struct or Grad array. When the input is a gradient vector, then the duration is the maximum duration of all the elements of the gradient vector.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Grad</code> or <code>::Vector{Grad}</code>) RF struct or RF array</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Float64</code>, <code>[s]</code>) duration of the RF struct or RF array</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L213-L225">source</a></section><section><div><pre><code class="language-julia hljs">y = dur(x::RF)
y = dur(x::Array{RF,1})
y = dur(x::Array{RF,2})</code></pre><p>Duration time in [s] of RF struct or RF array.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::RF</code> or <code>::Array{RF,1}</code> or <code>::Array{RF,2}</code>) RF struct or RF array</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Float64</code>, [<code>s</code>]) duration of the RF struct or RF array</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/RF.jl#L116-L128">source</a></section><section><div><pre><code class="language-julia hljs">T = dur(x::Sequence)</code></pre><p>The total duration of the sequence in [s].</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>T</code>: (<code>::Real</code>, <code>[s]</code>) total duration of the sequence</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L299-L309">source</a></section></article><h3 id="rotx"><a class="docs-heading-anchor" href="#rotx"><code>rotx</code></a><a id="rotx-1"></a><a class="docs-heading-anchor-permalink" href="#rotx" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.rotx" href="#KomaMRIBase.rotx"><code>KomaMRIBase.rotx</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Rx = rotx(Œ∏::Real)</code></pre><p>Rotates vector counter-clockwise with respect to the x-axis.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏</code>: (<code>::Real</code>, <code>[rad]</code>) rotation angle</li></ul><p><strong>Returns</strong></p><ul><li><code>Rx</code>: (<code>::Matrix{Int64}</code>) rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L1-L11">source</a></section></article><h3 id="roty"><a class="docs-heading-anchor" href="#roty"><code>roty</code></a><a id="roty-1"></a><a class="docs-heading-anchor-permalink" href="#roty" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.roty" href="#KomaMRIBase.roty"><code>KomaMRIBase.roty</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Ry = roty(Œ∏::Real)</code></pre><p>Rotates vector counter-clockwise with respect to the y-axis.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏</code>: (<code>::Real</code>, <code>[rad]</code>) rotation angle</li></ul><p><strong>Returns</strong></p><ul><li><code>Ry</code>: (<code>::Matrix{Int64}</code>) rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L16-L26">source</a></section></article><h3 id="rotz"><a class="docs-heading-anchor" href="#rotz"><code>rotz</code></a><a id="rotz-1"></a><a class="docs-heading-anchor-permalink" href="#rotz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.rotz" href="#KomaMRIBase.rotz"><code>KomaMRIBase.rotz</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Rz = rotz(Œ∏::Real)</code></pre><p>Rotates vector counter-clockwise with respect to the z-axis.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏</code>: (<code>::Real</code>, <code>[rad]</code>) rotation angle</li></ul><p><strong>Returns</strong></p><ul><li><code>Rz</code>: (<code>::Matrix{Int64}</code>) rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/Grad.jl#L31-L41">source</a></section></article><h3 id="get_Mk"><a class="docs-heading-anchor" href="#get_Mk"><code>get_Mk</code></a><a id="get_Mk-1"></a><a class="docs-heading-anchor-permalink" href="#get_Mk" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_Mk" href="#KomaMRIBase.get_Mk"><code>KomaMRIBase.get_Mk</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">Mk, Mk_adc = get_Mk(seq::Sequence, k; Œît=1, skip_rf=zeros(Bool, sum(is_RF_on.(seq))))</code></pre><p>Computes the <span>$k$</span>th-order moment of the Sequence <code>seq</code> given by the formula <span>$\int_0^T t^k G(t) dt$</span>.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li><li><code>k</code>: (<code>::Integer</code>) order of the moment to be computed</li><li><code>Œît</code>: (<code>::Real</code>, <code>=1</code>, <code>[s]</code>) nominal delta time separation between two time samples   for ADC acquisition and Gradients</li><li><code>skip_rf</code>: (<code>::Vector{Bool}</code>, <code>=zeros(Bool, sum(is_RF_on.(seq)))</code>) boolean vector which   indicates whether to skip the computation for resetting the integral for excitation or   refocusing RF type</li></ul><p><strong>Returns</strong></p><ul><li><code>Mk</code>: (<code>3-column ::Matrix{Real}</code>) <span>$k$</span>th-order moment</li><li><code>Mk_adc</code>: (<code>3-column ::Matrix{Real}</code>) <span>$k$</span>th-order moment sampled at ADC times</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L485-L502">source</a></section></article><h3 id="get_kspace"><a class="docs-heading-anchor" href="#get_kspace"><code>get_kspace</code></a><a id="get_kspace-1"></a><a class="docs-heading-anchor-permalink" href="#get_kspace" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_kspace" href="#KomaMRIBase.get_kspace"><code>KomaMRIBase.get_kspace</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>Computes the k-space trajectory of the Sequence <code>seq</code>. Refer to <a href="#get_Mk"><code>get_Mk</code></a> and <a href="#get_M0"><code>get_M0</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L545-L548">source</a></section></article><h3 id="get_M0"><a class="docs-heading-anchor" href="#get_M0"><code>get_M0</code></a><a id="get_M0-1"></a><a class="docs-heading-anchor-permalink" href="#get_M0" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_M0" href="#KomaMRIBase.get_M0"><code>KomaMRIBase.get_M0</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>Computes the zero-order moment of the Sequence <code>seq</code>. Refer to <a href="#get_Mk"><code>get_Mk</code></a> and <a href="#get_kspace"><code>get_kspace</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L551-L554">source</a></section></article><h3 id="get_M1"><a class="docs-heading-anchor" href="#get_M1"><code>get_M1</code></a><a id="get_M1-1"></a><a class="docs-heading-anchor-permalink" href="#get_M1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_M1" href="#KomaMRIBase.get_M1"><code>KomaMRIBase.get_M1</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>Computes the 1st-order moment of the Sequence <code>seq</code>. Refer to <a href="#get_Mk"><code>get_Mk</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L557-L560">source</a></section></article><h3 id="get_M2"><a class="docs-heading-anchor" href="#get_M2"><code>get_M2</code></a><a id="get_M2-1"></a><a class="docs-heading-anchor-permalink" href="#get_M2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_M2" href="#KomaMRIBase.get_M2"><code>KomaMRIBase.get_M2</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>Computes the 2nd-order moment of the Sequence <code>seq</code>. Refer to <a href="#get_Mk"><code>get_Mk</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L563-L566">source</a></section></article><h3 id="get_flip_angles"><a class="docs-heading-anchor" href="#get_flip_angles"><code>get_flip_angles</code></a><a id="get_flip_angles-1"></a><a class="docs-heading-anchor-permalink" href="#get_flip_angles" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_flip_angles" href="#KomaMRIBase.get_flip_angles"><code>KomaMRIBase.get_flip_angles</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = get_flip_angles(x::Sequence)</code></pre><p>Returns all the flip angles of the RF pulses in the sequence <code>x</code>.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Vector{Float64}</code>, <code>[deg]</code>) flip angles</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L436-L446">source</a></section></article><h3 id="is_RF_on"><a class="docs-heading-anchor" href="#is_RF_on"><code>is_RF_on</code></a><a id="is_RF_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_RF_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_RF_on" href="#KomaMRIBase.is_RF_on"><code>KomaMRIBase.is_RF_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_RF_on(x::Sequence)
y = is_RF_on(x::Sequence, t::Vector{Float64})</code></pre><p>Tells if the sequence <code>seq</code> has elements with RF active, or active during time <code>t</code>.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li><li><code>t</code>: (<code>::Vector{Float64}</code>, <code>[s]</code>) time to check</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the RF in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L184-L196">source</a></section></article><h3 id="is_GR_on"><a class="docs-heading-anchor" href="#is_GR_on"><code>is_GR_on</code></a><a id="is_GR_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_GR_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_GR_on" href="#KomaMRIBase.is_GR_on"><code>KomaMRIBase.is_GR_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_GR_on(x::Sequence)</code></pre><p>Tells if the sequence <code>seq</code> has elements with GR active.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the GR in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L214-L224">source</a></section></article><h3 id="is_Gx_on"><a class="docs-heading-anchor" href="#is_Gx_on"><code>is_Gx_on</code></a><a id="is_Gx_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_Gx_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_Gx_on" href="#KomaMRIBase.is_Gx_on"><code>KomaMRIBase.is_Gx_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_Gx_on(x::Sequence)</code></pre><p>Tells if the sequence <code>seq</code> has elements with GR active in x direction.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the GRx in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L227-L237">source</a></section></article><h3 id="is_Gy_on"><a class="docs-heading-anchor" href="#is_Gy_on"><code>is_Gy_on</code></a><a id="is_Gy_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_Gy_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_Gy_on" href="#KomaMRIBase.is_Gy_on"><code>KomaMRIBase.is_Gy_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_Gy_on(x::Sequence)</code></pre><p>Tells if the sequence <code>seq</code> has elements with GR active in y direction.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the GRy in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L240-L250">source</a></section></article><h3 id="is_Gz_on"><a class="docs-heading-anchor" href="#is_Gz_on"><code>is_Gz_on</code></a><a id="is_Gz_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_Gz_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_Gz_on" href="#KomaMRIBase.is_Gz_on"><code>KomaMRIBase.is_Gz_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_Gz_on(x::Sequence)</code></pre><p>Tells if the sequence <code>seq</code> has elements with GR active in z direction.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the GRz in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L253-L263">source</a></section></article><h3 id="is_ADC_on"><a class="docs-heading-anchor" href="#is_ADC_on"><code>is_ADC_on</code></a><a id="is_ADC_on-1"></a><a class="docs-heading-anchor-permalink" href="#is_ADC_on" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.is_ADC_on" href="#KomaMRIBase.is_ADC_on"><code>KomaMRIBase.is_ADC_on</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = is_ADC_on(x::Sequence)
y = is_ADC_on(x::Sequence, t::Union{Array{Float64,1}, Array{Float64,2}})</code></pre><p>Tells if the sequence <code>seq</code> has elements with ADC active, or active during time <code>t</code>.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: (<code>::Sequence</code>) sequence struct</li><li><code>t</code>: (<code>::Union{Array{Float64,1}, Array{Float64,2}}</code>, <code>[s]</code>) time to check</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>::Bool</code>) boolean that tells whether or not the ADC in the sequence is active</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L154-L166">source</a></section></article><h2 id="Sampling-related-Functions"><a class="docs-heading-anchor" href="#Sampling-related-Functions">Sampling-related Functions</a><a id="Sampling-related-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-related-Functions" title="Permalink"></a></h2><h3 id="get_samples"><a class="docs-heading-anchor" href="#get_samples"><code>get_samples</code></a><a id="get_samples-1"></a><a class="docs-heading-anchor-permalink" href="#get_samples" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_samples" href="#KomaMRIBase.get_samples"><code>KomaMRIBase.get_samples</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">samples = get_samples(seq::Sequence; off_val=0, max_rf_samples=Inf)</code></pre><p>Returns the samples of the events in <code>seq</code>.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>off_val</code>: (<code>::Number</code>, <code>=0</code>) offset value for amplitude. Typically used to hide points in   plots by setting it to <code>Inf</code></li><li><code>max_rf_samples</code>: (<code>::Integer</code>, <code>=Inf</code>) maximum number of samples for the RF struct</li></ul><p><strong>Returns</strong></p><ul><li><code>samples</code>: (<code>::NamedTuple</code>) contains samples for <code>gx</code>, <code>gy</code>, <code>gz</code>, <code>rf</code>, and <code>adc</code> events.   Each event, represented by <code>e::NamedTuple</code>, includes time samples (<code>e.t</code>) and amplitude   samples (<code>e.A</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L326-L343">source</a></section></article><h3 id="get_adc_sampling_times"><a class="docs-heading-anchor" href="#get_adc_sampling_times"><code>get_adc_sampling_times</code></a><a id="get_adc_sampling_times-1"></a><a class="docs-heading-anchor-permalink" href="#get_adc_sampling_times" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_adc_sampling_times" href="#KomaMRIBase.get_adc_sampling_times"><code>KomaMRIBase.get_adc_sampling_times</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">times = get_adc_sampling_times(seq)</code></pre><p>Returns an array of times when the samples of the sequence <code>seq</code> are acquired.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>times</code>: (<code>::Vector{Float64}</code>, <code>[s]</code>) time array when samples are acquired</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/ADC.jl#L76-L86">source</a></section></article><h3 id="get_adc_phase_compensation"><a class="docs-heading-anchor" href="#get_adc_phase_compensation"><code>get_adc_phase_compensation</code></a><a id="get_adc_phase_compensation-1"></a><a class="docs-heading-anchor-permalink" href="#get_adc_phase_compensation" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_adc_phase_compensation" href="#KomaMRIBase.get_adc_phase_compensation"><code>KomaMRIBase.get_adc_phase_compensation</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">comp = get_adc_phase_compensation(seq)</code></pre><p>Returns an array of phase compensation factors, <span>$\exp(-\mathrm{i}\varphi)$</span>, which are used to compensate the acquired signal <span>$S$</span> by applying the operation <span>$S_{\mathrm{comp}} = S \exp(-\mathrm{i}\varphi)$</span> after the simulation. This compensation is necessary because the signal typically exhibits a phase offset of <span>$\varphi$</span> following RF excitation with a phase of <span>$\varphi$</span>. Such pulses are commonly employed in sequences involving RF spoiling.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>comp</code>: (<code>::Vector{Complex}</code>, <code>[rad]</code>) array of phase compensations for every acquired sample</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/sequence/ADC.jl#L99-L114">source</a></section></article><h3 id="get_block_start_times"><a class="docs-heading-anchor" href="#get_block_start_times"><code>get_block_start_times</code></a><a id="get_block_start_times-1"></a><a class="docs-heading-anchor-permalink" href="#get_block_start_times" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.get_block_start_times" href="#KomaMRIBase.get_block_start_times"><code>KomaMRIBase.get_block_start_times</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">T0 = get_block_start_times(seq::Sequence)</code></pre><p>Returns a vector containing the start times of blocks in a sequence. The initial time is always zero, and the final time corresponds to the duration of the sequence.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Returns</strong></p><ul><li><code>T0</code>: (<code>::Vector</code>, <code>[s]</code>) start times of the blocks in a sequence</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/Sequence.jl#L312-L323">source</a></section></article><h3 id="DiscreteSequence"><a class="docs-heading-anchor" href="#DiscreteSequence"><code>DiscreteSequence</code></a><a id="DiscreteSequence-1"></a><a class="docs-heading-anchor-permalink" href="#DiscreteSequence" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.DiscreteSequence" href="#KomaMRIBase.DiscreteSequence"><code>KomaMRIBase.DiscreteSequence</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">seqd = DiscreteSequence(Gx, Gy, Gz, B1, Œîf, ADC, t, Œît)</code></pre><p>A sampled version of a Sequence struct, containing vectors for event amplitudes at specified times. DiscreteSequence is the struct used for simulation.</p><p><strong>Arguments</strong></p><ul><li><code>Gx</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[T/m]</code>) x-gradient vector</li><li><code>Gy</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[T/m]</code>) y-gradient vector</li><li><code>Gz</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[T/m]</code>) z-gradient vector</li><li><code>B1</code>: (<code>::AbstractVector{Complex{T&lt;:Real}}</code>, <code>[T]</code>) RF amplitude vector</li><li><code>Œîf</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[Hz]</code>) RF carrier frequency displacement vector</li><li><code>ADC</code>: (<code>::AbstractVector{Bool}</code>) ADC sample vector</li><li><code>t</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[s]</code>) time vector</li><li><code>Œît</code>: (<code>::AbstractVector{T&lt;:Real}</code>, <code>[s]</code>) delta time vector</li></ul><p><strong>Returns</strong></p><ul><li><code>seqd</code>: (<code>::DiscreteSequence</code>) DiscreteSequence struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/simulation/DiscreteSequence.jl#L1-L19">source</a></section></article><h3 id="discretize"><a class="docs-heading-anchor" href="#discretize"><code>discretize</code></a><a id="discretize-1"></a><a class="docs-heading-anchor-permalink" href="#discretize" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.discretize" href="#KomaMRIBase.discretize"><code>KomaMRIBase.discretize</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seqd = discretize(seq::Sequence; sampling_params=default_sampling_params())</code></pre><p>This function returns a sampled Sequence struct with RF and gradient time refinements based on simulation parameters.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) sequence</li></ul><p><strong>Keywords</strong></p><ul><li><code>sampling_params</code>: (<code>::Dict{String, Any}</code>, <code>=default_sampling_params()</code>) sampling   parameter dictionary</li></ul><p><strong>Returns</strong></p><ul><li><code>seqd</code>: (<code>::DiscreteSequence</code>) DiscreteSequence struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/datatypes/simulation/DiscreteSequence.jl#L72-L87">source</a></section></article><h2 id="Sampling-Miscellaneous"><a class="docs-heading-anchor" href="#Sampling-Miscellaneous">Sampling Miscellaneous</a><a id="Sampling-Miscellaneous-1"></a><a class="docs-heading-anchor-permalink" href="#Sampling-Miscellaneous" title="Permalink"></a></h2><h3 id="trapz"><a class="docs-heading-anchor" href="#trapz"><code>trapz</code></a><a id="trapz-1"></a><a class="docs-heading-anchor-permalink" href="#trapz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.trapz" href="#KomaMRIBase.trapz"><code>KomaMRIBase.trapz</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = trapz(Œît, x)</code></pre><p>Trapezoidal integration for every spin of a phantom.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>In practice, this function is used to integrate (Gx * x + Gy * y + Gz * z) * Œît for all the spins. <code>NŒît</code> is the length of <code>Œît</code>. <code>Ns</code> stands for the number of spins of a phantom. <code>x</code> is a matrix which rows represents different spins and columns are different times and the elements are the field Gx * x + Gy * y + Gz * z values.</p></div></div><p><strong>Arguments</strong></p><ul><li><code>Œît</code>: (<code>1 x NŒît ::Matrix{Float64}</code>, <code>[s]</code>) delta time 1-row array</li><li><code>x</code>: (<code>Ns x (NŒît+1) ::Matrix{Float64}</code>, <code>[T]</code>) magnitude of the field Gx * x + Gy * y +   Gz * z</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>Ns x 1 ::Matrix{Float64}</code>, <code>[T*s]</code>) vector where every element is the integral   of (Gx * x + Gy * y + Gz * z) * Œît for every spin of a phantom</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/timing/TrapezoidalIntegration.jl#L1-L20">source</a></section></article><h3 id="cumtrapz"><a class="docs-heading-anchor" href="#cumtrapz"><code>cumtrapz</code></a><a id="cumtrapz-1"></a><a class="docs-heading-anchor-permalink" href="#cumtrapz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.cumtrapz" href="#KomaMRIBase.cumtrapz"><code>KomaMRIBase.cumtrapz</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">y = cumtrapz(Œît, x)</code></pre><p>Trapezoidal cumulative integration over time for every spin of a phantom.</p><p><strong>Arguments</strong></p><ul><li><code>Œît</code>: (<code>1 x NŒît ::Matrix{Float64}</code>, <code>[s]</code>) delta time 1-row array</li><li><code>x</code>: (<code>Ns x (NŒît+1) ::Matrix{Float64}</code>, <code>[T]</code>) magnitude of the field Gx * x + Gy * y +   Gz * z</li></ul><p><strong>Returns</strong></p><ul><li><code>y</code>: (<code>Ns x NŒît ::Matrix{Float64}</code>, <code>[T*s]</code>) matrix where every column is the   cumulative integration over time of (Gx * x + Gy * y + Gz * z) * Œît for every spin of a   phantom</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/timing/TrapezoidalIntegration.jl#L32-L46">source</a></section></article><h3 id="kfoldperm"><a class="docs-heading-anchor" href="#kfoldperm"><code>kfoldperm</code></a><a id="kfoldperm-1"></a><a class="docs-heading-anchor-permalink" href="#kfoldperm" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.kfoldperm" href="#KomaMRIBase.kfoldperm"><code>KomaMRIBase.kfoldperm</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">array_of_ranges = kfoldperm(N, k; breaks=[])</code></pre><p>Divides a list of indices from 1 to <code>N</code> into <code>k</code> groups.</p><p><strong>Arguments</strong></p><ul><li><code>N</code>: (<code>::Integer</code>) number of elements to be ordered</li><li><code>k</code>: (<code>::Integer</code>) number of groups to divide the <code>N</code> elements.</li></ul><p><strong>Keywords</strong></p><ul><li><code>breaks</code>: (<code>::Vector{&lt;:Integer}</code>, <code>=[]</code>) array of indices where predefined breakpoints are   placed.</li></ul><p><strong>Returns</strong></p><ul><li><code>array_of_ranges</code>: (<code>::Vector{UnitRange{&lt;:Integer}}</code>) array containing ranges of different   groups. The target is <code>k</code> groups, but this could increase by adding elements to the   <code>breaks</code> input array</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/timing/TimeStepCalculation.jl#L3-L20">source</a></section></article><h3 id="ampl"><a class="docs-heading-anchor" href="#ampl"><code>ampl</code></a><a id="ampl-1"></a><a class="docs-heading-anchor-permalink" href="#ampl" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.ampl" href="#KomaMRIBase.ampl"><code>KomaMRIBase.ampl</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">A = ampl(g::Grad)
A = ampl(r::RF)
A = ampl(d::ADC)</code></pre><p>Get the theoretical amplitudes for Grad, RF or ADC structs.</p><p><strong>Arguments</strong></p><ul><li><code>gr</code>: (<code>::Grad</code>) Gradient struct</li><li><code>rf</code>: (<code>::RF</code>) RF struct</li><li><code>adc</code>: (<code>::ADC</code>) ADC truct</li></ul><p><strong>Returns</strong></p><ul><li><code>A</code>: (<code>::Vector{Number}</code>) vector with the amplitude theoretical points</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/timing/KeyValuesCalculation.jl#L1-L15">source</a></section></article><h3 id="time"><a class="docs-heading-anchor" href="#time"><code>time</code></a><a id="time-1"></a><a class="docs-heading-anchor-permalink" href="#time" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.time" href="#KomaMRIBase.time"><code>KomaMRIBase.time</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">t = time(gr::Grad)
t = time(rf::RF)
t = time(adc::ADC)</code></pre><p>Get the theoretical times for Grad, RF or ADC structs.</p><p><strong>Arguments</strong></p><ul><li><code>gr</code>: (<code>::Grad</code>) Gradient struct</li><li><code>rf</code>: (<code>::RF</code>) RF struct</li><li><code>adc</code>: (<code>::ADC</code>) ADC truct</li></ul><p><strong>Returns</strong></p><ul><li><code>t</code>: (<code>::Vector{Number}</code>) vector with the time theoretical points</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/timing/KeyValuesCalculation.jl#L63-L77">source</a></section></article><h2 id="Prebuilt-Sequence-Building-Blocks"><a class="docs-heading-anchor" href="#Prebuilt-Sequence-Building-Blocks">Prebuilt Sequence Building Blocks</a><a id="Prebuilt-Sequence-Building-Blocks-1"></a><a class="docs-heading-anchor-permalink" href="#Prebuilt-Sequence-Building-Blocks" title="Permalink"></a></h2><h3 id="PulseDesigner"><a class="docs-heading-anchor" href="#PulseDesigner"><code>PulseDesigner</code></a><a id="PulseDesigner-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner" href="#KomaMRIBase.PulseDesigner"><code>KomaMRIBase.PulseDesigner</code></a> ‚Äî <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia hljs">PulseDesigner</code></pre><p>A module to define different pulse sequences.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L1-L5">source</a></section></article><h3 id="PulseDesigner.RF_hard"><a class="docs-heading-anchor" href="#PulseDesigner.RF_hard"><code>PulseDesigner.RF_hard</code></a><a id="PulseDesigner.RF_hard-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.RF_hard" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.RF_hard" href="#KomaMRIBase.PulseDesigner.RF_hard"><code>KomaMRIBase.PulseDesigner.RF_hard</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = RF_hard(B1, T, sys; G=[0, 0, 0], Œîf=0)</code></pre><p>Returns a sequence with a RF excitation pulse.</p><p><strong>Arguments</strong></p><ul><li><code>B1</code>: (<code>::Number</code>, <code>[T]</code>) RF pulse amplitude</li><li><code>T</code>: (<code>::Real</code>, <code>[s]</code>) RF pulse duration</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>G</code>: (<code>::Vector{Real}</code>, <code>=[0, 0, 0]</code>, <code>[T/m]</code>) gradient amplitudes for x, y, z</li><li><code>Œîf</code>: (<code>::Real</code>, <code>=0</code>, <code>[Hz]</code>) RF pulse carrier frequency displacement</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct with a RF pulse</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys = Scanner(); durRF = œÄ / 2 / (2œÄ * Œ≥ * sys.B1);

julia&gt; seq = PulseDesigner.RF_hard(sys.B1, durRF, sys);

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L9-L34">source</a></section></article><h3 id="PulseDesigner.RF_sinc"><a class="docs-heading-anchor" href="#PulseDesigner.RF_sinc"><code>PulseDesigner.RF_sinc</code></a><a id="PulseDesigner.RF_sinc-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.RF_sinc" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.RF_sinc" href="#KomaMRIBase.PulseDesigner.RF_sinc"><code>KomaMRIBase.PulseDesigner.RF_sinc</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = RF_sinc(B1, T, sys; G=[0, 0, 0], Œîf=0, a=0.46, TBP=4)</code></pre><p>Returns a sequence with a RF sinc waveform.</p><p><strong>References</strong></p><ul><li>Matt A. Bernstein, Kevin F. King, Xiaohong Joe Zhou, Chapter 2 - Radiofrequency Pulse</li></ul><p>Shapes, Handbook of MRI Pulse Sequences, 2004, Pages 35-66, https://doi.org/10.1016/B978-012092861-3/50006-6.</p><p><strong>Arguments</strong></p><ul><li><code>B1</code>: (<code>::Number</code>, <code>[T]</code>) RF sinc amplitude</li><li><code>T</code>: (<code>::Real</code>, <code>[s]</code>) RF sinc duration</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>G</code>: (<code>::Vector{Real}</code>, <code>=[0, 0, 0]</code>, <code>[T/m]</code>) gradient amplitudes for x, y, z</li><li><code>Œîf</code>: (<code>::Real</code>, <code>=0</code>, <code>[Hz]</code>) RF pulse carrier frequency displacement</li><li><code>a</code>: (<code>::Real</code>, <code>=0.46</code>) height appodization window parameter</li><li><code>TBP</code>: (<code>::Real</code>, <code>=4</code>) width appodization window parameter</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct with a RF pulse</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys = Scanner(); durRF = œÄ / 2 / (2œÄ * Œ≥ * sys.B1);

julia&gt; seq = PulseDesigner.RF_sinc(sys.B1, durRF, sys);

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L42-L74">source</a></section></article><h3 id="PulseDesigner.EPI"><a class="docs-heading-anchor" href="#PulseDesigner.EPI"><code>PulseDesigner.EPI</code></a><a id="PulseDesigner.EPI-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.EPI" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.EPI" href="#KomaMRIBase.PulseDesigner.EPI"><code>KomaMRIBase.PulseDesigner.EPI</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = EPI(FOV::Real, N::Integer, sys::Scanner)</code></pre><p>Returns a sequence with EPI gradients.</p><p><strong>Arguments</strong></p><ul><li><code>FOV</code>: (<code>::Real</code>, <code>[m]</code>) field of view</li><li><code>N</code>: (<code>::Integer</code>) number of pixels in the x and y axis</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct with EPI gradients</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys, FOV, N = Scanner(), 23e-2, 101

julia&gt; seq = PulseDesigner.EPI(FOV, N, sys)

julia&gt; plot_seq(seq)

julia&gt; plot_kspace(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L124-L147">source</a></section></article><h3 id="PulseDesigner.radial_base"><a class="docs-heading-anchor" href="#PulseDesigner.radial_base"><code>PulseDesigner.radial_base</code></a><a id="PulseDesigner.radial_base-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.radial_base" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.radial_base" href="#KomaMRIBase.PulseDesigner.radial_base"><code>KomaMRIBase.PulseDesigner.radial_base</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = radial_base(FOV::Real, Nr::Integer, sys::Scanner)</code></pre><p>Returns a sequence with radial gradients for a single trajectory.</p><p><strong>Arguments</strong></p><ul><li><code>FOV</code>: (<code>::Real</code>, <code>[m]</code>) field of view</li><li><code>N</code>: (<code>::Integer</code>) number of pixels along the diameter</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct of a single radial trajectory</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys, FOV, N = Scanner(), 23e-2, 101

julia&gt; seq = PulseDesigner.radial_base(FOV, N, sys)

julia&gt; plot_seq(seq)

julia&gt; plot_kspace(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L184-L207">source</a></section></article><h3 id="PulseDesigner.spiral_base"><a class="docs-heading-anchor" href="#PulseDesigner.spiral_base"><code>PulseDesigner.spiral_base</code></a><a id="PulseDesigner.spiral_base-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.spiral_base" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.spiral_base" href="#KomaMRIBase.PulseDesigner.spiral_base"><code>KomaMRIBase.PulseDesigner.spiral_base</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">spiral = spiral_base(FOV, N, sys; S0=sys.Smax*2/3, Nint=8, Œª=Nint/FOV, BW=60e3)</code></pre><p>Definition of a spiral base sequence.</p><p><strong>References</strong></p><ul><li>Glover, G.H. (1999), Simple analytic spiral K-space algorithm. Magn. Reson. Med.,</li></ul><p>42: 412-415. https://doi.org/10.1002/(SICI)1522-2594(199908)42:2&lt;412::AID-MRM25&gt;3.0.CO;2-U</p><p><strong>Arguments</strong></p><ul><li><code>FOV</code>: (<code>::Real</code>, <code>[m]</code>) field of view</li><li><code>N</code>: (<code>::Integer</code>) number of pixels along the radious</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>S0</code>: (<code>::Vector{Real}</code>, <code>=sys.Smax*2/3</code>, <code>[T/m/s]</code>) slew rate reference</li><li><code>Nint</code>: (<code>::Integer</code>, <code>=8</code>) number of interleaves</li><li><code>Œª</code>: (<code>::Real</code>, <code>=Nint/FOV</code>, <code>[1/m]</code>) kspace spiral parameter</li><li><code>BW</code>: (<code>::Real</code>, <code>=60e3</code>, <code>[Hz]</code>) adquisition parameter</li></ul><p><strong>Returns</strong></p><ul><li><code>spiral</code>: (<code>::Function</code>) function that returns a <code>Sequence</code> struct when evaluated</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sys, FOV, N = Scanner(), 23e-2, 101

julia&gt; spiral = PulseDesigner.spiral_base(FOV, N, sys)

julia&gt; seq = spiral(0)

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L233-L266">source</a></section></article><h3 id="PulseDesigner.EPI_example"><a class="docs-heading-anchor" href="#PulseDesigner.EPI_example"><code>PulseDesigner.EPI_example</code></a><a id="PulseDesigner.EPI_example-1"></a><a class="docs-heading-anchor-permalink" href="#PulseDesigner.EPI_example" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIBase.PulseDesigner.EPI_example" href="#KomaMRIBase.PulseDesigner.EPI_example"><code>KomaMRIBase.PulseDesigner.EPI_example</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = EPI_example(; sys=Scanner())</code></pre><p>Returns a sequence suitable for acquiring the 2D brain example in the provided examples.</p><p><strong>Keywords</strong></p><ul><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) EPI example Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq = PulseDesigner.EPI_example();

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIBase/src/sequences/PulseDesigner.jl#L315-L332">source</a></section></article><h2 id="Input/Output"><a class="docs-heading-anchor" href="#Input/Output">Input/Output</a><a id="Input/Output-1"></a><a class="docs-heading-anchor-permalink" href="#Input/Output" title="Permalink"></a></h2><h3 id="read_seq"><a class="docs-heading-anchor" href="#read_seq"><code>read_seq</code></a><a id="read_seq-1"></a><a class="docs-heading-anchor-permalink" href="#read_seq" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIFiles.read_seq" href="#KomaMRIFiles.read_seq"><code>KomaMRIFiles.read_seq</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">seq = read_seq(filename)</code></pre><p>Returns the Sequence struct from a Pulseq file with <code>.seq</code> extension.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: (<code>::String</code>) absolute or relative path of the sequence file <code>.seq</code></li></ul><p><strong>Returns</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIFiles/src/Sequence/ReadPulseq.jl#L318-L337">source</a></section></article><h3 id="write_seq"><a class="docs-heading-anchor" href="#write_seq"><code>write_seq</code></a><a id="write_seq-1"></a><a class="docs-heading-anchor-permalink" href="#write_seq" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIFiles.write_seq" href="#KomaMRIFiles.write_seq"><code>KomaMRIFiles.write_seq</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">write_seq(seq::Sequence, filename::String)</code></pre><p>Writes a .seq file for a given sequence <code>seq</code> y the location <code>filename</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIFiles/src/Sequence/WritePulseq.jl#L152-L156">source</a></section></article><h3 id="read_phantom_jemris"><a class="docs-heading-anchor" href="#read_phantom_jemris"><code>read_phantom_jemris</code></a><a id="read_phantom_jemris-1"></a><a class="docs-heading-anchor-permalink" href="#read_phantom_jemris" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIFiles.read_phantom_jemris" href="#KomaMRIFiles.read_phantom_jemris"><code>KomaMRIFiles.read_phantom_jemris</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obj = read_phantom_jemris(filename)</code></pre><p>Returns the Phantom struct from a JEMRIS phantom file <code>.h5</code>.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: (<code>::String</code>) the absolute or relative path of the phantom file <code>.h5</code></li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/2.phantoms/brain.h5&quot;)

julia&gt; obj = read_phantom_jemris(obj_file)

julia&gt; plot_phantom_map(obj, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIFiles/src/Phantom/JEMRIS.jl#L1-L20">source</a></section></article><h3 id="read_phantom_MRiLab"><a class="docs-heading-anchor" href="#read_phantom_MRiLab"><code>read_phantom_MRiLab</code></a><a id="read_phantom_MRiLab-1"></a><a class="docs-heading-anchor-permalink" href="#read_phantom_MRiLab" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIFiles.read_phantom_MRiLab" href="#KomaMRIFiles.read_phantom_MRiLab"><code>KomaMRIFiles.read_phantom_MRiLab</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">obj = read_phantom_MRiLab(filename)</code></pre><p>Returns the Phantom struct from a MRiLab phantom file <code>.mat</code>.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: (<code>::String</code>) the absolute or relative path of the phantom file <code>.mat</code></li></ul><p><strong>Returns</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/2.phantoms/brain.mat&quot;)

julia&gt; obj = read_phantom_MRiLab(obj_file)

julia&gt; plot_phantom_map(obj, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIFiles/src/Phantom/MRiLab.jl#L1-L20">source</a></section></article><h2 id="Functor-Functions"><a class="docs-heading-anchor" href="#Functor-Functions">Functor Functions</a><a id="Functor-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functor-Functions" title="Permalink"></a></h2><h3 id="f32"><a class="docs-heading-anchor" href="#f32"><code>f32</code></a><a id="f32-1"></a><a class="docs-heading-anchor-permalink" href="#f32" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.f32" href="#KomaMRICore.f32"><code>KomaMRICore.f32</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">f32(m)</code></pre><p>Converts the <code>eltype</code> of model&#39;s parameters to <code>Float32</code> Recurses into structs marked with <code>@functor</code>.</p><p>See also <a href="#f64"><code>f64</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/GPUFunctions.jl#L95-L102">source</a></section></article><h3 id="f64"><a class="docs-heading-anchor" href="#f64"><code>f64</code></a><a id="f64-1"></a><a class="docs-heading-anchor-permalink" href="#f64" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.f64" href="#KomaMRICore.f64"><code>KomaMRICore.f64</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">f64(m)</code></pre><p>Converts the <code>eltype</code> of model&#39;s parameters to <code>Float64</code> (which is Koma&#39;s default).. Recurses into structs marked with <code>@functor</code>.</p><p>See also <a href="#f32"><code>f32</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/GPUFunctions.jl#L105-L112">source</a></section></article><h3 id="cpu"><a class="docs-heading-anchor" href="#cpu"><code>cpu</code></a><a id="cpu-1"></a><a class="docs-heading-anchor-permalink" href="#cpu" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.cpu" href="#KomaMRICore.cpu"><code>KomaMRICore.cpu</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">cpu(x)</code></pre><p>Tries to move object to CPU. Inspired by Flux&#39;s <code>cpu</code> function.</p><p>This works for functions, and any struct marked with <code>@functor</code>.</p><p>See also <a href="#gpu"><code>gpu</code></a>.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">x = x |&gt; cpu</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/GPUFunctions.jl#L72-L85">source</a></section></article><h3 id="gpu"><a class="docs-heading-anchor" href="#gpu"><code>gpu</code></a><a id="gpu-1"></a><a class="docs-heading-anchor-permalink" href="#gpu" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.gpu" href="#KomaMRICore.gpu"><code>KomaMRICore.gpu</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gpu(x)</code></pre><p>Tries to move <code>x</code> to the current GPU device. Inspired by Flux&#39;s <code>gpu</code> function.</p><p>This works for functions, and any struct marked with <code>@functor</code>.</p><p>Use <a href="#cpu"><code>cpu</code></a> to copy back to ordinary <code>Array</code>s.</p><p>See also <a href="#f32"><code>f32</code></a> and <a href="#f64"><code>f64</code></a> to change element type only.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">x = x |&gt; gpu</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/GPUFunctions.jl#L45-L60">source</a></section></article><h2 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h2><h3 id="default_sim_params"><a class="docs-heading-anchor" href="#default_sim_params"><code>default_sim_params</code></a><a id="default_sim_params-1"></a><a class="docs-heading-anchor-permalink" href="#default_sim_params" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.default_sim_params" href="#KomaMRICore.default_sim_params"><code>KomaMRICore.default_sim_params</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">sim_params = default_sim_params(sim_params=Dict{String,Any}())</code></pre><p>This function returns a dictionary containing default simulation parameters while also allowing the user to define some of them.</p><p><strong>Arguments</strong></p><ul><li><code>sim_params</code>: (<code>::Dict{String,Any}</code>, <code>=Dict{String,Any}()</code>) user-defined dictionary with   simulation parameters. The following lists its keys along with their possible values:<ul><li>&quot;return_type&quot;: defines the output of the <a href="#simulate"><code>simulate</code></a> function. Possible values   are <code>&quot;raw&quot;</code>, <code>&quot;mat&quot;</code>, and <code>&quot;state&quot;</code>, corresponding to outputting a MRIReco   <code>RawAcquisitionData</code>, the signal values, and the last magnetization state of the   simulation, respectively</li><li>&quot;sim_method&quot;: defines the type of simulation. The default value is <code>Bloch()</code>, but you   can alternatively use the <code>BlochDict()</code> simulation method. Moreover, you have the   flexibility to create your own methods without altering the KomaMRI source code</li><li>&quot;Œît&quot;: raster time for gradients</li><li>&quot;Œît_rf&quot;: raster time for RFs</li><li>&quot;precision&quot;: defines the floating-point simulation precision. You can choose between   <code>&quot;f32&quot;</code> and <code>&quot;f64&quot;</code> to use <code>Float32</code> and <code>Float64</code> primitive types, respectively.   It&#39;s important to note that, especially for GPU operations, using <code>&quot;f32&quot;</code> is   generally much faster</li><li>&quot;Nblocks&quot;: divides the simulation into a specified number of time blocks. This parameter   is designed to conserve RAM resources, as <strong>KomaMRI</strong> computes a series of   simulations consecutively, each with the specified number of blocks determined by   the value of <code>&quot;Nblocks&quot;</code></li><li>&quot;Nthreads&quot;: divides the <strong>Phantom</strong> into a specified number of threads. Because spins   are modeled independently of each other, <strong>KomaMRI</strong> can solve simulations in   parallel threads, speeding up the execution time</li><li>&quot;gpu&quot;: is a boolean that determines whether to use GPU or CPU hardware resources, as   long as they are available on the host computer</li><li>&quot;gpu_device&quot;: sets the index ID of the available GPU in the host computer</li></ul></li></ul><p><strong>Returns</strong></p><ul><li><code>sim_params</code>: (<code>::Dict{String,Any}</code>) dictionary with simulation parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/SimulatorCore.jl#L8-L43">source</a></section></article><h3 id="simulate"><a class="docs-heading-anchor" href="#simulate"><code>simulate</code></a><a id="simulate-1"></a><a class="docs-heading-anchor-permalink" href="#simulate" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.simulate" href="#KomaMRICore.simulate"><code>KomaMRICore.simulate</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">out = simulate(obj::Phantom, seq::Sequence, sys::Scanner; sim_params, w)</code></pre><p>Returns the raw signal or the last state of the magnetization according to the value of the <code>&quot;return_type&quot;</code> key of the <code>sim_params</code> dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li><li><code>sys</code>: (<code>::Scanner</code>) Scanner struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>sim_params</code>: (<code>::Dict{String,Any}</code>, <code>=Dict{String,Any}()</code>) simulation parameter dictionary</li><li><code>w</code>: (<code>::Blink.AtomShell.Window</code>, <code>=nothing</code>) the window within which to display a   progress bar in the Blink Window UI. If this variable is anything other than &#39;nothing&#39;,   the progress bar will be considered</li></ul><p><strong>Returns</strong></p><ul><li><code>out</code>: (<code>::Vector{Complex}</code> or <code>::SpinStateRepresentation</code> or <code>::RawAcquisitionData</code>) depending   on whether &quot;return_type&quot; is &quot;mat&quot;, &quot;state&quot; or &quot;raw&quot; (default), respectively</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/3.koma_paper/comparison_accuracy/sequences/EPI/epi_100x100_TE100_FOV230.seq&quot;);

julia&gt; sys, obj, seq = Scanner(), brain_phantom2D(), read_seq(seq_file)

julia&gt; raw = simulate(obj, seq, sys)

julia&gt; plot_signal(raw)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/SimulatorCore.jl#L256-L287">source</a></section></article><h3 id="simulate_slice_profile"><a class="docs-heading-anchor" href="#simulate_slice_profile"><code>simulate_slice_profile</code></a><a id="simulate_slice_profile-1"></a><a class="docs-heading-anchor-permalink" href="#simulate_slice_profile" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.simulate_slice_profile" href="#KomaMRICore.simulate_slice_profile"><code>KomaMRICore.simulate_slice_profile</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">mag = simulate_slice_profile(seq; z, sim_params)</code></pre><p>Returns magnetization of spins distributed along <code>z</code> after running the Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>z</code>: (<code>=range(-2e-2,2e-2,200)</code>) range for the z axis</li><li><code>sim_params</code>: (<code>::Dict{String, Any}</code>, <code>=Dict{String,Any}(&quot;Œît_rf&quot;=&gt;1e-6)</code>) dictionary with   simulation parameters</li></ul><p><strong>Returns</strong></p><ul><li><code>mag</code>: (<code>::SpinStateRepresentation</code>) final state of the magnetization vector</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/SimulatorCore.jl#L352-L367">source</a></section></article><h3 id="signal_to_raw_data"><a class="docs-heading-anchor" href="#signal_to_raw_data"><code>signal_to_raw_data</code></a><a id="signal_to_raw_data-1"></a><a class="docs-heading-anchor-permalink" href="#signal_to_raw_data" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.signal_to_raw_data" href="#KomaMRICore.signal_to_raw_data"><code>KomaMRICore.signal_to_raw_data</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">raw = signal_to_raw_data(signal, seq; phantom_name, sys, sim_params)</code></pre><p>Transforms the raw signal into a RawAcquisitionData struct (nearly equivalent to the ISMRMRD format) used for reconstruction with MRIReco.</p><p><strong>Arguments</strong></p><ul><li><code>signal</code>: (<code>::Matrix{Complex}</code>) raw signal matrix</li><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>phantom_name</code>: (<code>::String</code>, <code>=&quot;Phantom&quot;</code>) phantom name</li><li><code>sys</code>: (<code>::Scanner</code>, <code>=Scanner()</code>) Scanner struct</li><li><code>sim_params</code>: (<code>::Dict{String, Any}</code>, <code>=Dict{String,Any}()</code>) simulation parameter dictionary</li></ul><p><strong>Returns</strong></p><ul><li><code>raw</code>: (<code>::RawAcquisitionData</code>) RawAcquisitionData struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/epi_se.seq&quot;)

julia&gt; sys, obj, seq = Scanner(), brain_phantom2D(), read_seq(seq_file)

julia&gt; sim_params = KomaMRICore.default_sim_params(); sim_params[&quot;return_type&quot;] = &quot;mat&quot;

julia&gt; signal = simulate(obj, seq, sys; sim_params)

julia&gt; raw = signal_to_raw_data(signal, seq)

julia&gt; plot_signal(raw)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/rawdata/ISMRMRD.jl#L45-L77">source</a></section></article><h3 id="Mag"><a class="docs-heading-anchor" href="#Mag"><code>Mag</code></a><a id="Mag-1"></a><a class="docs-heading-anchor-permalink" href="#Mag" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Mag" href="#KomaMRICore.Mag"><code>KomaMRICore.Mag</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mag = Mag(xy::Complex, z::Real)</code></pre><p>The Magnetization struct.</p><p><strong>Arguments</strong></p><ul><li><code>xy</code>: (<code>::Complex{Float64}</code>) magnetization of a spin in the xy plane</li><li><code>z</code>: (<code>::Real</code>) magnetization of a spin in the z plane</li></ul><p><strong>Returns</strong></p><ul><li><code>mag</code>: (<code>::Mag</code>) Magnetization struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/simulation/Bloch/Magnetization.jl#L1-L12">source</a></section></article><h2 id="Simulation-Miscellaneous"><a class="docs-heading-anchor" href="#Simulation-Miscellaneous">Simulation Miscellaneous</a><a id="Simulation-Miscellaneous-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Miscellaneous" title="Permalink"></a></h2><h3 id="Spinor"><a class="docs-heading-anchor" href="#Spinor"><code>Spinor</code></a><a id="Spinor-1"></a><a class="docs-heading-anchor-permalink" href="#Spinor" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Spinor" href="#KomaMRICore.Spinor"><code>KomaMRICore.Spinor</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">spinor = Spinor(Œ±, Œ≤)</code></pre><p>Spinor(Œ±, Œ≤) with Cayley-Klein parameters Œ± and Œ≤. Based on &quot;Introduction to the Shinnar-Le Roux algorithm&quot;, Patrick Le Roux (1995). A spinor is a way to represent 3D rotations, the underlying representation is a 2 X 2 complex unitary matrix (<span>$\alpha,\beta\in\mathbb{C}$</span>):</p><p class="math-container">\[R=\left[\begin{array}{cc}
\alpha &amp; -\beta^{*}\\
\beta &amp; \alpha^{*}
\end{array}\right],\]</p><p>with <span>$|\alpha|^2+|\beta|^2 = 1$</span>.</p><p>This later operates on the <span>$2\times2$</span> representation of <span>$(x,y,z)$</span> as follows <span>$V^{+} = R V R^{*}$</span>.</p><p><strong>Arguments</strong></p><ul><li><code>Œ±</code>: (<code>::Complex{Float64}</code>) Cayley-Klein parameter Œ±</li><li><code>Œ≤</code>: (<code>::Complex{Float64}</code>) Cayley-Klein parameter Œ≤</li></ul><p><strong>Returns</strong></p><ul><li><code>spinor</code>: (<code>::Spinor</code>) Spinor struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/datatypes/Spinor.jl#L1-L25">source</a></section></article><h3 id="Q"><a class="docs-heading-anchor" href="#Q"><code>Q</code></a><a id="Q-1"></a><a class="docs-heading-anchor-permalink" href="#Q" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Q" href="#KomaMRICore.Q"><code>KomaMRICore.Q</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">s = Q(œÜ, nxy, nz)</code></pre><p>Spinor rotation matrix. Counter-clockwise rotation of <code>œÜ</code> with respect to the axis of rotation n=(nx, ny, nz).</p><p>Pauly, J., Le Roux, P., Nishimura, D., &amp; Macovski, A. (1991). Parameter relations for the Shinnar-Le Roux selective excitation pulse design algorithm (NMR imaging). IEEE Transactions on Medical Imaging, 10(1), 53-65. doi:10.1109/42.75611</p><p class="math-container">\[\varphi=-\gamma\Delta t\sqrt{\left|B_{1}\right|^{2}+\left(\boldsymbol{G}\cdot\boldsymbol{x}
\right)^{2}}=-\gamma\Delta t\left\Vert \boldsymbol{B}\right\Vert\]</p><p class="math-container">\[\boldsymbol{n}=\boldsymbol{B}/\left\Vert \boldsymbol{B}\right\Vert\]</p><p><strong>Arguments</strong></p><ul><li><code>œÜ</code>: (<code>::Real</code>, <code>[rad]</code>) œÜ angle</li><li><code>nxy</code>: (<code>::Real</code>) nxy factor</li><li><code>nz</code>: (<code>::Real</code>) nz factor</li></ul><p><strong>Returns</strong></p><ul><li><code>s</code>: (<code>::Spinor</code>) spinnor struct that represents the <code>Q</code> rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/datatypes/Spinor.jl#L131-L156">source</a></section></article><h3 id="Un"><a class="docs-heading-anchor" href="#Un"><code>Un</code></a><a id="Un-1"></a><a class="docs-heading-anchor-permalink" href="#Un" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Un" href="#KomaMRICore.Un"><code>KomaMRICore.Un</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><p>Rodrigues&#39; formula: Rotation matrix that when applied rotates with respect to &quot;n&quot; in an angle Œ∏ anti clock-wise</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/other/DiffusionModel.jl#L9">source</a></section></article><h3 id="Rx"><a class="docs-heading-anchor" href="#Rx"><code>Rx</code></a><a id="Rx-1"></a><a class="docs-heading-anchor-permalink" href="#Rx" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Rx" href="#KomaMRICore.Rx"><code>KomaMRICore.Rx</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">s = Rx(Œ∏)</code></pre><p>Spinor counter-clockwise rotation matrix with angle <code>Œ∏</code> with respect to x-axis.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏</code>: (<code>::Real</code>, <code>[rad]</code>) angle with respect to x-axis</li></ul><p><strong>Returns</strong></p><ul><li><code>s</code>: (<code>::Spinor</code>) spinor struct that represents the <code>Rx</code> rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/datatypes/Spinor.jl#L85-L95">source</a></section></article><h3 id="Ry"><a class="docs-heading-anchor" href="#Ry"><code>Ry</code></a><a id="Ry-1"></a><a class="docs-heading-anchor-permalink" href="#Ry" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Ry" href="#KomaMRICore.Ry"><code>KomaMRICore.Ry</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">s = Ry(Œ∏)</code></pre><p>Spinor counter-clockwise rotation matrix with angle <code>Œ∏</code> with respect to y-axis.</p><p><strong>Arguments</strong></p><ul><li><code>Œ∏</code>: (<code>::Real</code>, <code>[rad]</code>) angle with respect to y-axis</li></ul><p><strong>Returns</strong></p><ul><li><code>s</code>: (<code>::Spinor</code>) spinor struct that represents the <code>Ry</code> rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/datatypes/Spinor.jl#L72-L82">source</a></section></article><h3 id="Rz"><a class="docs-heading-anchor" href="#Rz"><code>Rz</code></a><a id="Rz-1"></a><a class="docs-heading-anchor-permalink" href="#Rz" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRICore.Rz" href="#KomaMRICore.Rz"><code>KomaMRICore.Rz</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">s = Rz(œÜ)</code></pre><p>Spinor counter-clockwise rotation matrix with angle <code>œÜ</code> with respect to z-axis.</p><p><strong>Arguments</strong></p><ul><li><code>œÜ</code>: (<code>::Real</code>, <code>[rad]</code>) angle with respect to z-axis</li></ul><p><strong>Returns</strong></p><ul><li><code>s</code>: (<code>::Spinor</code>) spinnor struct that represents the <code>Rz</code> rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRICore/src/datatypes/Spinor.jl#L59-L69">source</a></section></article><h2 id="Plots"><a class="docs-heading-anchor" href="#Plots">Plots</a><a id="Plots-1"></a><a class="docs-heading-anchor-permalink" href="#Plots" title="Permalink"></a></h2><h3 id="plot_phantom_map"><a class="docs-heading-anchor" href="#plot_phantom_map"><code>plot_phantom_map</code></a><a id="plot_phantom_map-1"></a><a class="docs-heading-anchor-permalink" href="#plot_phantom_map" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_phantom_map" href="#KomaMRIPlots.plot_phantom_map"><code>KomaMRIPlots.plot_phantom_map</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_phantom_map(obj::Phantom, key::Symbol; kwargs...)</code></pre><p>Plots a phantom map for a specific spin parameter given by <code>key</code>.</p><p><strong>Arguments</strong></p><ul><li><code>obj</code>: (<code>::Phantom</code>) Phantom struct</li><li><code>key</code>: (<code>::Symbol</code>, opts: [<code>:œÅ</code>, <code>:T1</code>, <code>:T2</code>, <code>:T2s</code>, <code>:x</code>, <code>:y</code>, <code>:z</code>]) symbol for   displaying different parameters of the phantom spins</li></ul><p><strong>Keywords</strong></p><ul><li><code>t0</code>: (<code>::Real</code>, <code>=0</code>, <code>[ms]</code>) time to see displacement of the phantom</li><li><code>height</code>: (<code>::Integer</code>, <code>=600</code>) plot height</li><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>view_2d</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to use a 2D scatter plot</li><li><code>colorbar</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a colorbar</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the phantom map for a specific spin parameter</li></ul><p><strong>References</strong></p><p>Colormaps from https://github.com/markgriswold/MRFColormaps Towards Unified Colormaps for Quantitative MRF Data, Mark Griswold, et al. (2018).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; obj2D, obj3D = brain_phantom2D(), brain_phantom3D();

julia&gt; plot_phantom_map(obj2D, :œÅ)

julia&gt; plot_phantom_map(obj3D, :œÅ)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L768-L801">source</a></section></article><h3 id="plot_seq"><a class="docs-heading-anchor" href="#plot_seq"><code>plot_seq</code></a><a id="plot_seq-1"></a><a class="docs-heading-anchor-permalink" href="#plot_seq" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_seq" href="#KomaMRIPlots.plot_seq"><code>KomaMRIPlots.plot_seq</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_seq(seq::Sequence; kwargs...)</code></pre><p>Plots a sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li><li><code>freq_in_phase</code>: (<code>::Bool</code>, <code>=true</code>) Include FM modulation in RF phase</li><li><code>gl</code>: (<code>::Bool</code>, <code>=false</code>) use <code>PlotlyJS.scattergl</code> backend (faster)</li><li><code>max_rf_samples</code>: (<code>::Integer</code>, <code>=100</code>) maximum number of RF samples</li><li><code>show_adc</code>: (<code>::Bool</code>, <code>=false</code>) plot ADC samples with markers</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_seq(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L116-L148">source</a></section></article><h3 id="plot_kspace"><a class="docs-heading-anchor" href="#plot_kspace"><code>plot_kspace</code></a><a id="plot_kspace-1"></a><a class="docs-heading-anchor-permalink" href="#plot_kspace" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_kspace" href="#KomaMRIPlots.plot_kspace"><code>KomaMRIPlots.plot_kspace</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_kspace(seq::Sequence; width=nothing, height=nothing, darkmode=false)</code></pre><p>Plots the k-space of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the k-space of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_kspace(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L677-L701">source</a></section></article><h3 id="plot_M0"><a class="docs-heading-anchor" href="#plot_M0"><code>plot_M0</code></a><a id="plot_M0-1"></a><a class="docs-heading-anchor-permalink" href="#plot_M0" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_M0" href="#KomaMRIPlots.plot_M0"><code>KomaMRIPlots.plot_M0</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_M0(seq::Sequence; kwargs...)</code></pre><p>Plots the zero order moment (M0) of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the moment M0 of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_M0(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L320-L348">source</a></section></article><h3 id="plot_M1"><a class="docs-heading-anchor" href="#plot_M1"><code>plot_M1</code></a><a id="plot_M1-1"></a><a class="docs-heading-anchor-permalink" href="#plot_M1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_M1" href="#KomaMRIPlots.plot_M1"><code>KomaMRIPlots.plot_M1</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_M1(seq::Sequence; kwargs...)</code></pre><p>Plots the first order moment (M1) of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the moment M1 of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_M1(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L379-L407">source</a></section></article><h3 id="plot_M2"><a class="docs-heading-anchor" href="#plot_M2"><code>plot_M2</code></a><a id="plot_M2-1"></a><a class="docs-heading-anchor-permalink" href="#plot_M2" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_M2" href="#KomaMRIPlots.plot_M2"><code>KomaMRIPlots.plot_M2</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_M2(seq::Sequence; kwargs...)</code></pre><p>Plots the second order moment (M2) of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the moment M2 of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_M2(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L439-L467">source</a></section></article><h3 id="plot_eddy_currents"><a class="docs-heading-anchor" href="#plot_eddy_currents"><code>plot_eddy_currents</code></a><a id="plot_eddy_currents-1"></a><a class="docs-heading-anchor-permalink" href="#plot_eddy_currents" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_eddy_currents" href="#KomaMRIPlots.plot_eddy_currents"><code>KomaMRIPlots.plot_eddy_currents</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_eddy_currents(seq::Sequence, Œª; kwargs...)</code></pre><p>Plots the eddy currents of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li><li><code>Œª</code>: (<code>::Real</code>, <code>[s]</code>) time constant for the decay of Eddy currents</li></ul><p><strong>Keywords</strong></p><ul><li><code>Œ±</code>: (<code>::Vector{Real}</code>, <code>=ones(size(Œª))</code>) eddy currents factors</li><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the Eddy currents of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_eddy_currents(seq, 80e-3)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L498-L528">source</a></section></article><h3 id="plot_slew_rate"><a class="docs-heading-anchor" href="#plot_slew_rate"><code>plot_slew_rate</code></a><a id="plot_slew_rate-1"></a><a class="docs-heading-anchor-permalink" href="#plot_slew_rate" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_slew_rate" href="#KomaMRIPlots.plot_slew_rate"><code>KomaMRIPlots.plot_slew_rate</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_slew_rate(seq::Sequence; kwargs...)</code></pre><p>Plots the slew rate currents of a Sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the slew rate currents of the Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_slew_rate(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L561-L589">source</a></section></article><h3 id="plot_signal"><a class="docs-heading-anchor" href="#plot_signal"><code>plot_signal</code></a><a id="plot_signal-1"></a><a class="docs-heading-anchor-permalink" href="#plot_signal" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_signal" href="#KomaMRIPlots.plot_signal"><code>KomaMRIPlots.plot_signal</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_signal(raw::RawAcquisitionData; kwargs...)</code></pre><p>Plots a raw signal in ISMRMRD format.</p><p><strong>Arguments</strong></p><ul><li><code>raw</code>: (<code>::RawAcquisitionData</code>) RawAcquisitionData struct (raw signal in ISMRMRD format)</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>slider</code>: (<code>::Bool</code>, <code>=true</code>) boolean to indicate whether to display a slider</li><li><code>show_seq_blocks</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display sequence blocks</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>range</code>: (<code>::Vector{Real}</code>, <code>=[]</code>) time range to be displayed initially</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the raw signal</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/3.koma_paper/comparison_accuracy/sequences/EPI/epi_100x100_TE100_FOV230.seq&quot;);

julia&gt; sys, obj, seq = Scanner(), brain_phantom2D(), read_seq(seq_file)

julia&gt; raw = simulate(obj, seq, sys)

julia&gt; plot_signal(raw)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L922-L951">source</a></section></article><h3 id="plot_image"><a class="docs-heading-anchor" href="#plot_image"><code>plot_image</code></a><a id="plot_image-1"></a><a class="docs-heading-anchor-permalink" href="#plot_image" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_image" href="#KomaMRIPlots.plot_image"><code>KomaMRIPlots.plot_image</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_image(image; height, width, zmin, zmax, darkmode, title)</code></pre><p>Plots an image matrix.</p><p><strong>Arguments</strong></p><ul><li><code>image</code>: (<code>::Matrix{Number}</code>) image matrix</li></ul><p><strong>Keywords</strong></p><ul><li><code>width</code>: (<code>::Integer</code>, <code>=nothing</code>) plot width</li><li><code>height</code>: (<code>::Integer</code>, <code>=nothing</code>) plot height</li><li><code>zmin</code>: (<code>::Real</code>, <code>=minimum(abs.(image[:]))</code>) reference value for minimum color</li><li><code>zmax</code>: (<code>::Real</code>, <code>=maximum(abs.(image[:]))</code>) reference value for maximum color</li><li><code>darkmode</code>: (<code>::Bool</code>, <code>=false</code>) boolean to indicate whether to display darkmode style</li><li><code>title</code>: (<code>::String</code>, <code>=&quot;&quot;</code>) plot title</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the image matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L618-L636">source</a></section></article><h3 id="plot_dict"><a class="docs-heading-anchor" href="#plot_dict"><code>plot_dict</code></a><a id="plot_dict-1"></a><a class="docs-heading-anchor-permalink" href="#plot_dict" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_dict" href="#KomaMRIPlots.plot_dict"><code>KomaMRIPlots.plot_dict</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">str = plot_dict(dict::Dict)</code></pre><p>Generates an HTML table based on the dictionary <code>dict</code>.</p><p><strong>Arguments</strong></p><ul><li><code>dict</code>: (<code>::Dict</code>) dictionary</li></ul><p><strong>Returns</strong></p><ul><li><code>str</code>: (<code>::String</code>) dictionary as an HTML table</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L1065-L1075">source</a></section></article><h3 id="plot_seqd"><a class="docs-heading-anchor" href="#plot_seqd"><code>plot_seqd</code></a><a id="plot_seqd-1"></a><a class="docs-heading-anchor-permalink" href="#plot_seqd" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRIPlots.plot_seqd" href="#KomaMRIPlots.plot_seqd"><code>KomaMRIPlots.plot_seqd</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">p = plot_seqd(seq::Sequence; sampling_params=KomaMRIBase.default_sampling_params())</code></pre><p>Plots a sampled sequence struct.</p><p><strong>Arguments</strong></p><ul><li><code>seq</code>: (<code>::Sequence</code>) Sequence struct</li></ul><p><strong>Keywords</strong></p><ul><li><code>sampling_params</code>: (<code>::Dict{String,Any}()</code>, <code>=KomaMRIBase.default_sampling_params()</code>) dictionary of   sampling parameters</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: (<code>::PlotlyJS.SyncPlot</code>) plot of the sampled Sequence struct</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; seq_file = joinpath(dirname(pathof(KomaMRI)), &quot;../examples/1.sequences/spiral.seq&quot;)

julia&gt; seq = read_seq(seq_file)

julia&gt; plot_seqd(seq)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/KomaMRIPlots/src/ui/DisplayFunctions.jl#L1102-L1125">source</a></section></article><h2 id="UI"><a class="docs-heading-anchor" href="#UI">UI</a><a id="UI-1"></a><a class="docs-heading-anchor-permalink" href="#UI" title="Permalink"></a></h2><h3 id="KomaUI"><a class="docs-heading-anchor" href="#KomaUI"><code>KomaUI</code></a><a id="KomaUI-1"></a><a class="docs-heading-anchor-permalink" href="#KomaUI" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="KomaMRI.KomaUI" href="#KomaMRI.KomaUI"><code>KomaMRI.KomaUI</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">out = KomaUI(; kwargs...)</code></pre><p>Launch the Koma&#39;s UI.</p><p><strong>Keywords</strong></p><ul><li><code>darkmode</code>: (<code>::Bool</code>, <code>=true</code>) define dark mode style for the UI</li><li><code>frame</code>: (<code>::Bool</code>, <code>=true</code>) display the upper frame of the Blink window</li><li><code>phantom_mode</code>: (<code>::String</code>, <code>=&quot;2D&quot;</code>, opts=[<code>&quot;2D&quot;</code>, <code>&quot;3D&quot;</code>]) load the default phantom as a   2D or 3D brain example</li><li><code>sim</code>: (<code>::Dict{String,Any}</code>, <code>=Dict{String,Any}()</code>) simulation parameters dictionary</li><li><code>rec</code>: (<code>::Dict{Symbol,Any}</code>, <code>=Dict{Symbol,Any}()</code>) reconstruction parameters dictionary</li><li><code>return_window</code>: (<code>::Bool</code>, <code>=false</code>) make the <code>out</code> be either &#39;nothing&#39; or the Blink window,   depending on whether the <code>return_window</code> keyword argument is set to true</li><li><code>show_window</code>: (<code>::Bool</code>, <code>=true</code>) display the Blink window</li></ul><p><strong>Returns</strong></p><ul><li><code>out</code>: (<code>::Nothing</code> or <code>::Blink.AtomShell.Window</code>) returns either &#39;nothing&#39; or the Blink   window, depending on whether the <code>return_window</code> keyword argument is set to true.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; KomaUI()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHealth/KomaMRI.jl/blob/ea045f161520893781ac38223247587e813bcd39/src/KomaUI.jl#L8-L32">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../mri-theory/">¬´ Simulation</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.3.0 on <span class="colophon-date" title="Friday 12 April 2024 19:30">Friday 12 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
